<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.5">
  <title>IRON VALLEY ¬∑ MEMBERSHIP FINAL</title>
  <!-- Fonts & Icons -->
  <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Montserrat:wght@400;500;700;800;900&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <!-- Splide for hero carousel -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@splidejs/splide@4.1.4/dist/css/splide.min.css">
  <style>
    /* ----- DARK GYM MEMBERSHIP ‚Äì‚Äì ABSOLUTELY PERFECTED ----- */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      background: #030405;
      font-family: 'Montserrat', sans-serif;
    }

    .membership-section {
      background: radial-gradient(circle at 30% 10%, #0e0f12 0%, #010101 100%);
      padding: 3rem 2rem 5rem;
      color: #fff;
      position: relative;
      overflow: hidden;
      border-top: 2px solid #ff3c3c;
      border-bottom: 2px solid #ff3c3c;
    }

    .membership-section::before {
      content: "";
      position: absolute;
      top: 0; left: 0; width: 100%; height: 100%;
      background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200" opacity="0.05"><filter id="noise"><feTurbulence type="fractalNoise" baseFrequency="0.8" numOctaves="1" stitchTiles="stitch"/></filter><rect width="100%" height="100%" filter="url(%23noise)"/></svg>');
      pointer-events: none;
    }

    .ms-container {
      max-width: 1400px;
      margin: 0 auto;
      position: relative;
      z-index: 5;
    }

    /* ----- HERO CAROUSEL ----- */
    .splide {
      margin-bottom: 3.5rem;
      border-radius: 32px;
      overflow: hidden;
      box-shadow: 0 25px 45px rgba(0,0,0,0.8), 0 0 0 2px #ff3c3c20;
    }

    .splide__slide {
      position: relative;
    }

    .splide__slide img {
      width: 100%;
      height: 380px;
      object-fit: cover;
      filter: brightness(0.65) saturate(1.2);
      transition: transform 8s ease;
    }

    .splide__slide:hover img {
      transform: scale(1.05);
    }

    .slide-overlay {
      position: absolute;
      top: 0; left: 0; width: 100%; height: 100%;
      background: linear-gradient(90deg, #000000dd 0%, transparent 80%);
      display: flex;
      flex-direction: column;
      justify-content: center;
      padding-left: 5%;
    }

    .slide-overlay h2 {
      font-size: 3.8rem;
      font-family: 'Bebas Neue', cursive;
      letter-spacing: 6px;
      color: white;
      text-shadow: 0 0 20px #ff3c3c, 0 0 40px #cc0000;
      line-height: 1.1;
    }

    .slide-overlay p {
      font-size: 1.3rem;
      font-weight: 600;
      color: #ffcaca;
    }

    /* ----- HEADER ----- */
    .ms-header {
      text-align: center;
      margin-bottom: 3rem;
    }

    .ms-header h2 {
      font-size: 4rem;
      font-family: 'Bebas Neue', cursive;
      letter-spacing: 10px;
      background: linear-gradient(45deg, #fff, #c1c1c1);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      text-shadow: 0 0 25px #ff3c3c, 0 0 35px #ff0000;
    }

    .ms-header h2 span {
      background: linear-gradient(45deg, #ff4d4d, #ff1a1a);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      border-bottom: 4px solid #ff3c3c;
      padding-bottom: 5px;
    }

    .ms-header p {
      color: #d4d4d4;
      font-size: 1.2rem;
      text-transform: uppercase;
      font-weight: 500;
      background: #1c1c1cbb;
      display: inline-block;
      padding: 10px 30px;
      border-radius: 40px;
      backdrop-filter: blur(4px);
      border: 1px solid #ff3c3c;
    }

    /* ----- MAIN LAYOUT: CARDS + CART ----- */
    .ms-content {
      display: grid;
      grid-template-columns: 1fr 380px;
      gap: 35px;
      align-items: start;
    }

    /* ----- 3 CARDS ‚Äì‚Äì GLASS NEON ----- */
    .ms-cards-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 30px;
    }

    .ms-card {
      background: #0c0e12ee;
      backdrop-filter: blur(12px);
      border: 1px solid #ff4d4d40;
      border-radius: 40px;
      padding: 28px 22px;
      box-shadow: 0 20px 40px #000000;
      transition: 0.3s ease;
      display: flex;
      flex-direction: column;
      position: relative;
      overflow: hidden;
    }

    .ms-card:hover {
      border-color: #ff3c3c;
      box-shadow: 0 25px 45px #ff000040, 0 0 0 2px #ff3c3c;
      transform: translateY(-12px) scale(1.02);
    }

    .ms-card::before {
      content: "";
      position: absolute;
      top: 0; left: 0; width: 100%; height: 100%;
      background: url('https://images.unsplash.com/photo-1581009146145-b5ef050c2e1e?w=600&auto=format&fit=crop') center/cover;
      opacity: 0.06;
      z-index: 0;
    }

    .ms-card > * {
      position: relative;
      z-index: 2;
    }

    .ms-card-header {
      border-bottom: 2px solid #ff3c3c80;
      padding-bottom: 18px;
      margin-bottom: 15px;
      display: flex;
      justify-content: space-between;
      align-items: baseline;
    }

    .ms-card-header h3 {
      font-size: 2.2rem;
      font-weight: 800;
      font-family: 'Bebas Neue', cursive;
      background: linear-gradient(145deg, #f0f0f0, #b0b0b0);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      letter-spacing: 2px;
    }

    .ms-price {
      font-size: 2rem;
      font-weight: 900;
      color: #fff;
      text-shadow: 0 0 15px #ff4d4d;
    }

    .ms-price span {
      font-size: 1rem;
      color: #b3b3b3;
      margin-left: 5px;
    }

    /* ----- GOAL SELECTOR ----- */
    .ms-goal-selector {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin: 18px 0 12px;
    }

    .ms-goal-option {
      background: #1e242cee;
      border: 1.5px solid #3f4a57;
      border-radius: 40px;
      padding: 8px 18px;
      font-size: 0.75rem;
      font-weight: 700;
      text-transform: uppercase;
      display: flex;
      align-items: center;
      gap: 6px;
      color: #b3c0cc;
      cursor: pointer;
      transition: 0.15s;
    }

    .ms-goal-option i {
      color: #ff8080;
    }

    .ms-goal-option.active {
      background: #ff3c3c;
      border-color: white;
      color: black;
      box-shadow: 0 0 20px #ff3c3c;
    }

    .ms-goal-option.active i {
      color: black;
    }

    .ms-perks {
      list-style: none;
      margin: 5px 0 15px;
      flex-grow: 1;
    }

    .ms-perks li {
      font-size: 0.9rem;
      padding: 8px 0;
      display: flex;
      align-items: center;
      gap: 12px;
      color: #d1d9e6;
      border-bottom: 1px solid #2a2f38;
    }

    .ms-perks i {
      color: #ff4d4d;
      width: 20px;
      text-shadow: 0 0 6px #ff0000;
    }

    .ms-add-to-cart {
      background: linear-gradient(145deg, #ff3c3c, #cc0000);
      border: none;
      color: white;
      font-weight: 800;
      font-size: 1rem;
      padding: 16px 0;
      border-radius: 60px;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 12px;
      text-transform: uppercase;
      letter-spacing: 2px;
      border: 1px solid #ffb3b3;
      box-shadow: 0 0 20px #ff4d4d;
      margin-top: 5px;
      transition: 0.2s;
      cursor: pointer;
    }

    .ms-add-to-cart:hover {
      background: white;
      color: black;
      box-shadow: 0 0 35px #ff4d4d;
    }

    .ms-add-to-cart:hover i {
      color: black;
    }

    /* ----- CART ‚Äì‚Äì ARMORED ----- */
    .ms-cart {
      background: #07090eee;
      backdrop-filter: blur(16px);
      border: 1px solid #ff3c3c;
      border-radius: 48px;
      padding: 28px 22px;
      box-shadow: 0 30px 50px black, 0 0 0 2px #3a1a1a;
      position: sticky;
      top: 20px;
    }

    .ms-cart h3 {
      font-size: 2.2rem;
      font-family: 'Bebas Neue', cursive;
      display: flex;
      align-items: center;
      gap: 12px;
      border-bottom: 3px solid #ff3c3c;
      padding-bottom: 15px;
      margin-bottom: 25px;
      color: white;
      text-shadow: 0 0 12px #ff4d4d;
    }

    .ms-cart-items {
      max-height: 450px;
      overflow-y: auto;
      padding-right: 8px;
    }

    .ms-cart-items::-webkit-scrollbar {
      width: 6px;
    }
    .ms-cart-items::-webkit-scrollbar-track { background: #1a1f26; border-radius: 10px; }
    .ms-cart-items::-webkit-scrollbar-thumb { background: #ff4d4d; border-radius: 10px; }

    .ms-cart-item {
      background: #141a22;
      border-radius: 24px;
      padding: 18px;
      margin-bottom: 16px;
      border-left: 8px solid #ff3c3c;
      box-shadow: 0 8px 0 #00000055;
    }

    .ms-cart-item-info {
      display: flex;
      justify-content: space-between;
      margin-bottom: 12px;
    }

    .ms-cart-item-name {
      font-weight: 800;
      color: white;
    }

    .ms-cart-item-goal {
      font-size: 0.7rem;
      background: #ff3c3c30;
      padding: 3px 12px;
      border-radius: 30px;
      color: #ffb3b3;
      border: 1px solid #ff3c3c;
    }

    .ms-cart-item-price {
      color: #ffa5a5;
      font-weight: 700;
    }

    .ms-cart-item-actions {
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    .ms-qty-btn {
      background: #0d1116;
      border: 1px solid #ff4d4d;
      color: #ffa5a5;
      width: 36px;
      height: 36px;
      border-radius: 14px;
      cursor: pointer;
    }

    .ms-qty-btn:hover {
      background: #ff4d4d;
      color: black;
    }

    .ms-remove-item {
      background: transparent;
      border: none;
      color: #ff7b7b;
      font-size: 1.2rem;
      cursor: pointer;
    }

    .ms-cart-total {
      display: flex;
      justify-content: space-between;
      font-size: 1.6rem;
      font-weight: 900;
      border-top: 2px solid #ff4d4d;
      margin-top: 18px;
      padding-top: 18px;
    }

    .ms-checkout-btn {
      background: #ff3c3c;
      border: none;
      color: black;
      font-weight: 900;
      font-size: 1.3rem;
      padding: 20px 10px;
      width: 100%;
      border-radius: 100px;
      text-transform: uppercase;
      margin-top: 25px;
      box-shadow: 0 0 30px #ff3c3c;
      transition: 0.2s;
      cursor: pointer;
    }

    .ms-checkout-btn:hover {
      background: white;
      box-shadow: 0 0 60px #ff3c3c;
    }

    /* ----- STATS BOARD ----- */
    .ms-stats-board {
      margin-top: 50px;
      background: #050708e0;
      backdrop-filter: blur(8px);
      border: 1px solid #ff3c3c;
      border-radius: 60px;
      padding: 30px 40px;
      display: flex;
      justify-content: space-around;
      flex-wrap: wrap;
      box-shadow: 0 0 40px #ff000030, inset 0 0 20px #000000;
    }

    .ms-stat-item {
      text-align: center;
    }

    .ms-stat-item i {
      font-size: 2.5rem;
      color: #ff4d4d;
      text-shadow: 0 0 20px red;
    }

    .ms-stat-number {
      font-size: 2.2rem;
      font-weight: 900;
      font-family: 'Bebas Neue', cursive;
      color: white;
    }

    .ms-stat-label {
      color: #c0c0c0;
      text-transform: uppercase;
      letter-spacing: 3px;
    }

    /* ----- PAYMENT MODAL ‚Äì‚Äì UPI ID & QR PLACEHOLDER ----- */
    .ms-payment-modal {
      display: none;
      position: fixed;
      top: 0; left: 0; width: 100%; height: 100%;
      background: #030405f2;
      backdrop-filter: blur(20px);
      align-items: center;
      justify-content: center;
      z-index: 99999;
    }

    .ms-modal-card {
      background: #0f131ad4;
      backdrop-filter: blur(30px);
      border: 2px solid #ff3c3c;
      border-radius: 64px;
      padding: 40px 45px;
      max-width: 800px;
      width: 95%;
      box-shadow: 0 0 100px #ff0000;
    }

    .ms-payment-options {
      display: flex;
      gap: 20px;
      margin-bottom: 35px;
      flex-wrap: wrap;
    }

    .ms-payment-tab {
      background: #1a1f2b;
      border-radius: 100px;
      padding: 14px 28px;
      color: white;
      font-weight: 700;
      display: flex;
      align-items: center;
      gap: 12px;
      border: 1px solid #4a4f5a;
      cursor: pointer;
    }

    .ms-payment-tab.active {
      background: #ff3c3c;
      border-color: white;
      color: black;
    }

    .ms-payment-panel {
      display: none;
    }

    .ms-payment-panel.active {
      display: block;
    }

    /* ----- QR PLACEHOLDER (clean, no name) ----- */
    .ms-qr-placeholder {
      background: #11161e;
      border: 2px dashed #ff3c3c;
      border-radius: 36px;
      padding: 35px 20px;
      text-align: center;
      margin-bottom: 25px;
    }

    .ms-qr-placeholder i {
      font-size: 5rem;
      color: #ff3c3c;
      text-shadow: 0 0 20px #ff4d4d;
    }

    .ms-qr-placeholder p {
      color: #ccc;
      font-weight: 600;
      margin-top: 10px;
      font-size: 1.1rem;
    }

    .ms-qr-placeholder small {
      color: #999;
      display: block;
      margin-top: 8px;
    }

    /* ----- UPI BADGE (EXACT ID) ----- */
    .ms-upi-badge {
      background: #1e252f;
      padding: 16px 25px;
      border-radius: 60px;
      text-align: center;
      border: 1px dashed #ff8080;
      margin: 20px 0;
    }

    .ms-upi-badge span {
      background: black;
      padding: 8px 25px;
      border-radius: 50px;
      color: #ffb3b3;
      font-size: 1.3rem;
      font-weight: 700;
      font-family: monospace;
    }

    /* ----- FORM FIELDS ----- */
    .ms-form-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 18px;
    }

    .ms-form-full {
      grid-column: span 2;
    }

    .ms-form-grid input {
      width: 100%;
      padding: 16px 20px;
      background: #1a1f29;
      border: 1px solid #ff3c3c70;
      border-radius: 60px;
      color: white;
      font-size: 1rem;
      outline: none;
    }

    .ms-form-grid input:focus {
      border-color: #ff3c3c;
      box-shadow: 0 0 15px #ff3c3c;
    }

    .ms-pay-btn {
      background: #ff3c3c;
      border: none;
      padding: 18px;
      font-size: 1.5rem;
      font-weight: 900;
      border-radius: 80px;
      width: 100%;
      margin-top: 25px;
      cursor: pointer;
      transition: 0.2s;
    }

    .ms-pay-btn:hover {
      background: white;
      box-shadow: 0 0 40px #ff3c3c;
    }

    .ms-close-modal {
      display: block;
      text-align: right;
      margin-top: 20px;
      color: #ffa5a5;
      cursor: pointer;
      font-weight: 600;
    }

    /* ----- TOAST ----- */
    .ms-toast {
      visibility: hidden;
      background: #1f1f1f;
      border-left: 12px solid #ff3c3c;
      border-radius: 50px;
      padding: 20px 35px;
      position: fixed;
      bottom: 35px; left: 50%;
      transform: translateX(-50%);
      font-weight: 800;
      box-shadow: 0 0 60px #ff3c3c;
      z-index: 999999;
    }

    .ms-toast.show {
      visibility: visible;
      animation: fadeinup 0.3s, fadeoutup 0.3s 2.7s;
    }

    @keyframes fadeinup {
      from { bottom: 0; opacity: 0; }
      to { bottom: 35px; opacity: 1; }
    }
    @keyframes fadeoutup {
      from { bottom: 35px; opacity: 1; }
      to { bottom: 0; opacity: 0; }
    }

    /* ----- RESPONSIVE ----- */
    @media (max-width: 1100px) {
      .ms-content { grid-template-columns: 1fr; }
      .ms-cards-grid { grid-template-columns: repeat(2, 1fr); }
      .ms-cart { position: static; margin-top: 30px; }
    }

    @media (max-width: 750px) {
      .ms-cards-grid { grid-template-columns: 1fr; }
      .splide__slide img { height: 250px; }
      .ms-header h2 { font-size: 3rem; }
    }
  </style>
</head>
<body>
  <!-- ========== FINAL MEMBERSHIP SECTION ‚Äì 100% PERFECT ========== -->
  <section class="membership-section">
    <div class="ms-container">

      <!-- HERO CAROUSEL -->
      <div id="image-carousel" class="splide">
        <div class="splide__track">
          <ul class="splide__list">
            <li class="splide__slide">
              <img src="https://images.unsplash.com/photo-1534438327276-14e5300c3a48?w=1400&auto=format" alt="gym">
              <div class="slide-overlay"><h2>UNLEASH <br>THE BEAST</h2><p>#IRONVALLEY</p></div>
            </li>
            <li class="splide__slide">
              <img src="https://images.unsplash.com/photo-1540497077202-7c8a3999166f?w=1400&auto=format" alt="deadlift">
              <div class="slide-overlay"><h2>POWER <br>BEYOND</h2><p>ADVANCED STRENGTH</p></div>
            </li>
            <li class="splide__slide">
              <img src="https://images.unsplash.com/photo-1581009146145-b5ef050c2e1e?w=1400&auto=format" alt="crossfit">
              <div class="slide-overlay"><h2>FAT LOSS ¬∑ MUSCLE</h2><p>BEGINNER TO ELITE</p></div>
            </li>
          </ul>
        </div>
      </div>

      <!-- HEADER -->
      <div class="ms-header">
        <h2><span>üáÆüá≥ INDIAN</span> MEMBERSHIP</h2>
        <p><i class="fas fa-rupiah-sign"></i> PAY via UPI / QR ¬∑ ELITE FACILITY</p>
      </div>

      <!-- CARDS + CART -->
      <div class="ms-content">
        <!-- LEFT: 3 PLANS with GOAL SELECTOR -->
        <div class="ms-cards-grid">
          <!-- BEGINNER ‚Çπ1999 -->
          <div class="ms-card" data-id="1" data-name="Beginner" data-price="1999">
            <div class="ms-card-header">
              <h3>üî• BEGINNER</h3>
              <div class="ms-price">‚Çπ1999<span>/mo</span></div>
            </div>
            <div class="ms-goal-selector">
              <div class="ms-goal-option active" data-goal="Fat Loss"><i class="fas fa-fire"></i> FAT LOSS</div>
              <div class="ms-goal-option" data-goal="Basic Strength"><i class="fas fa-dumbbell"></i> STRENGTH</div>
              <div class="ms-goal-option" data-goal="Endurance"><i class="fas fa-heartbeat"></i> ENDURANCE</div>
            </div>
            <ul class="ms-perks">
              <li><i class="fas fa-check-circle"></i> Equipment access</li>
              <li><i class="fas fa-check-circle"></i> 2 PT sessions/month</li>
              <li><i class="fas fa-check-circle"></i> Fat loss / starter</li>
              <li><i class="fas fa-check-circle"></i> 2 group classes/week</li>
            </ul>
            <button class="ms-add-to-cart"><i class="fas fa-cart-plus"></i> ADD TO CART</button>
          </div>

          <!-- INTERMEDIATE ‚Çπ3999 -->
          <div class="ms-card" data-id="2" data-name="Intermediate" data-price="3999">
            <div class="ms-card-header">
              <h3>‚ö° INTERMEDIATE</h3>
              <div class="ms-price">‚Çπ3999<span>/mo</span></div>
            </div>
            <div class="ms-goal-selector">
              <div class="ms-goal-option active" data-goal="Muscle Gain"><i class="fas fa-muscle"></i> MUSCLE</div>
              <div class="ms-goal-option" data-goal="Strength"><i class="fas fa-bolt"></i> STRENGTH</div>
              <div class="ms-goal-option" data-goal="Endurance"><i class="fas fa-heart"></i> ENDURANCE</div>
              <div class="ms-goal-option" data-goal="Fat Loss"><i class="fas fa-fire"></i> FAT LOSS</div>
            </div>
            <ul class="ms-perks">
              <li><i class="fas fa-check-circle"></i> All beginner perks</li>
              <li><i class="fas fa-check-circle"></i> 4 PT sessions</li>
              <li><i class="fas fa-check-circle"></i> Hypertrophy plan</li>
              <li><i class="fas fa-check-circle"></i> HIIT & endurance</li>
              <li><i class="fas fa-check-circle"></i> Mobile app</li>
            </ul>
            <button class="ms-add-to-cart"><i class="fas fa-cart-plus"></i> ADD TO CART</button>
          </div>

          <!-- ADVANCED ‚Çπ5999 -->
          <div class="ms-card" data-id="3" data-name="Advanced" data-price="5999">
            <div class="ms-card-header">
              <h3>üèÜ ADVANCED</h3>
              <div class="ms-price">‚Çπ5999<span>/mo</span></div>
            </div>
            <div class="ms-goal-selector">
              <div class="ms-goal-option active" data-goal="Powerlifting"><i class="fas fa-dumbbell"></i> POWER</div>
              <div class="ms-goal-option" data-goal="Muscle"><i class="fas fa-muscle"></i> MUSCLE</div>
              <div class="ms-goal-option" data-goal="Fat Loss"><i class="fas fa-fire"></i> CUT</div>
              <div class="ms-goal-option" data-goal="Strongman"><i class="fas fa-crown"></i> ELITE</div>
            </div>
            <ul class="ms-perks">
              <li><i class="fas fa-check-circle"></i> All intermediate perks</li>
              <li><i class="fas fa-check-circle"></i> Unlimited PT</li>
              <li><i class="fas fa-check-circle"></i> Custom diet & workout</li>
              <li><i class="fas fa-check-circle"></i> Powerlifting platform</li>
              <li><i class="fas fa-check-circle"></i> 24/7 + sauna</li>
            </ul>
            <button class="ms-add-to-cart"><i class="fas fa-cart-plus"></i> ADD TO CART</button>
          </div>
        </div>

        <!-- RIGHT CART -->
        <aside class="ms-cart">
          <h3><i class="fas fa-shopping-cart"></i> IRON CART</h3>
          <div class="ms-cart-items" id="ms-cart-items">
            <p class="ms-empty-cart"><i class="fas fa-dumbbell"></i> EMPTY ¬∑ ADD MEMBERSHIP</p>
          </div>
          <div class="ms-cart-total">
            <span>TOTAL</span>
            <span id="ms-cart-total">‚Çπ0</span>
          </div>
          <button class="ms-checkout-btn" id="ms-checkout-btn">PROCEED TO PAY</button>
        </aside>
      </div>

      <!-- STATS BOARD -->
      <div class="ms-stats-board">
        <div class="ms-stat-item"><i class="fas fa-users"></i><div class="ms-stat-number">3.2K+</div><div class="ms-stat-label">MEMBERS</div></div>
        <div class="ms-stat-item"><i class="fas fa-clock"></i><div class="ms-stat-number">24/7</div><div class="ms-stat-label">ACCESS</div></div>
        <div class="ms-stat-item"><i class="fas fa-trophy"></i><div class="ms-stat-number">50+</div><div class="ms-stat-label">PRO TRAINERS</div></div>
        <div class="ms-stat-item"><i class="fas fa-indian-rupee-sign"></i><div class="ms-stat-number">LOWEST</div><div class="ms-stat-label">RATES</div></div>
      </div>
    </div>
  </section>

  <!-- ========== PAYMENT MODAL ‚Äì UPI ID & QR PLACEHOLDER ========== -->
  <div id="ms-payment-modal" class="ms-payment-modal">
    <div class="ms-modal-card">
      <h2 style="font-family: 'Bebas Neue'; font-size: 3rem; color: white; margin-bottom: 10px; text-shadow: 0 0 20px red;"><i class="fas fa-shield-alt"></i> SECURE CHECKOUT</h2>
      
      <!-- PAYMENT TABS -->
      <div class="ms-payment-options">
        <div class="ms-payment-tab active" data-panel="upi"><i class="fas fa-mobile-alt"></i> UPI / PAYTM</div>
        <div class="ms-payment-tab" data-panel="qr"><i class="fas fa-qrcode"></i> SCAN & PAY</div>
        <div class="ms-payment-tab" data-panel="card"><i class="fas fa-credit-card"></i> CARD/NET</div>
      </div>
      
      <!-- UPI PANEL -->
      <div id="panel-upi" class="ms-payment-panel active">
        <div class="ms-form-grid">
          <div class="ms-form-full">
            <input type="text" id="upi-input" placeholder="Enter UPI ID (e.g. name@okhdfcbank)" required>
          </div>
          <div class="ms-form-full">
            <small style="color:#ffb3b3; margin-left: 10px;">Merchant UPI: <strong style="background:#ff3c3c; padding:5px 15px; border-radius:40px; color:black;">8660623081@ybl</strong></small>
          </div>
          <button class="ms-pay-btn" id="mock-pay-btn">PAY ‚Çπ <span id="pay-amount-upi">0</span> VIA UPI</button>
        </div>
      </div>
      
      <!-- QR PANEL ‚Äì CLEAN PLACEHOLDER, NO NAME -->
      <div id="panel-qr" class="ms-payment-panel">
        <div class="ms-qr-placeholder">
          <i class="fas fa-qrcode"></i>
          <p>YOUR QR CODE HERE</p>
          <small>Scan with PhonePe, Google Pay, Paytm</small>
        </div>
        <div class="ms-upi-badge">
          <span>8660623081@ybl</span>
        </div>
        <div style="display: flex; gap: 15px; align-items: center; color: #ccc; margin: 20px 0 25px;">
          <i class="fas fa-check-circle" style="color:#ff3c3c;"></i> Pay via any UPI app
        </div>
        <div style="display: flex; align-items: center; justify-content: space-between; background: #11161e; padding: 15px 25px; border-radius: 80px;">
          <span style="font-size: 1.4rem; font-weight: 800; color: white;">Amount: ‚Çπ<span id="qr-amount-display">0</span></span>
          <button class="ms-pay-btn" id="mock-qr-pay" style="width: auto; padding: 14px 35px; margin-top: 0; font-size: 1.2rem;">I'VE PAID</button>
        </div>
      </div>
      
      <!-- CARD PANEL -->
      <div id="panel-card" class="ms-payment-panel">
        <div class="ms-form-grid">
          <div class="ms-form-full">
            <input type="text" id="card-number" placeholder="Card Number" maxlength="19" required>
          </div>
          <div>
            <input type="text" id="card-expiry" placeholder="MM/YY" required>
          </div>
          <div>
            <input type="text" id="card-cvv" placeholder="CVV" maxlength="3" required>
          </div>
          <div class="ms-form-full">
            <button class="ms-pay-btn" id="mock-card-pay">PAY ‚Çπ<span id="pay-amount-card">0</span></button>
          </div>
        </div>
      </div>
      
      <span class="ms-close-modal" id="close-payment-modal"><i class="fas fa-times-circle"></i> CLOSE</span>
    </div>
  </div>

  <!-- TOAST NOTIFICATION -->
  <div id="ms-toast" class="ms-toast">‚úÖ PAYMENT SUCCESS! WELCOME TO IRON VALLEY üí™</div>

  <!-- SCRIPTS -->
  <script src="https://cdn.jsdelivr.net/npm/@splidejs/splide@4.1.4/dist/js/splide.min.js"></script>
  <script>
    (function() {
      "use strict";

      // ---------- CART STATE ----------
      let cart = [];

      // DOM elements
      const cartContainer = document.getElementById('ms-cart-items');
      const cartTotalSpan = document.getElementById('ms-cart-total');
      const checkoutBtn = document.getElementById('ms-checkout-btn');
      const paymentModal = document.getElementById('ms-payment-modal');
      const closeModal = document.getElementById('close-payment-modal');
      const payAmountUpi = document.getElementById('pay-amount-upi');
      const payAmountCard = document.getElementById('pay-amount-card');
      const qrAmountDisplay = document.getElementById('qr-amount-display');
      const toast = document.getElementById('ms-toast');

      // ---------- GOAL SELECTOR TOGGLE ----------
      document.querySelectorAll('.ms-goal-option').forEach(opt => {
        opt.addEventListener('click', function() {
          const parent = this.closest('.ms-goal-selector');
          parent.querySelectorAll('.ms-goal-option').forEach(el => el.classList.remove('active'));
          this.classList.add('active');
        });
      });

      // ---------- ADD TO CART ----------
      document.querySelectorAll('.ms-add-to-cart').forEach(btn => {
        btn.addEventListener('click', function() {
          const card = this.closest('.ms-card');
          const id = card.dataset.id;
          const name = card.dataset.name;
          const price = parseInt(card.dataset.price);
          const activeGoal = card.querySelector('.ms-goal-option.active')?.dataset.goal || 'General';
          
          const existing = cart.find(item => item.id === id && item.goal === activeGoal);
          if (existing) {
            existing.quantity += 1;
          } else {
            cart.push({ id, name, price, quantity: 1, goal: activeGoal });
          }
          renderCart();
        });
      });

      // ---------- RENDER CART ----------
      function renderCart() {
        if (cart.length === 0) {
          cartContainer.innerHTML = '<p class="ms-empty-cart"><i class="fas fa-dumbbell"></i> EMPTY ¬∑ ADD MEMBERSHIP</p>';
          cartTotalSpan.textContent = '‚Çπ0';
          return;
        }
        let html = '', subtotal = 0;
        cart.forEach(item => {
          subtotal += item.price * item.quantity;
          html += `<div class="ms-cart-item" data-id="${item.id}" data-goal="${item.goal}">
            <div class="ms-cart-item-info">
              <span class="ms-cart-item-name">${item.name} ¬∑ <span class="ms-cart-item-goal">${item.goal}</span></span>
              <span class="ms-cart-item-price">‚Çπ${item.price}</span>
            </div>
            <div class="ms-cart-item-actions">
              <button class="ms-qty-btn ms-minus"><i class="fas fa-minus"></i></button>
              <span class="ms-cart-item-qty">${item.quantity}</span>
              <button class="ms-qty-btn ms-plus"><i class="fas fa-plus"></i></button>
              <button class="ms-remove-item"><i class="fas fa-trash-alt"></i></button>
            </div>
          </div>`;
        });
        cartContainer.innerHTML = html;
        cartTotalSpan.textContent = `‚Çπ${subtotal}`;
        // Update modal amounts
        if (payAmountUpi) payAmountUpi.textContent = subtotal;
        if (payAmountCard) payAmountCard.textContent = subtotal;
        if (qrAmountDisplay) qrAmountDisplay.textContent = subtotal;
      }

      // ---------- CART EVENT DELEGATION ----------
      cartContainer.addEventListener('click', (e) => {
        const btn = e.target.closest('button');
        if (!btn) return;
        const itemDiv = btn.closest('.ms-cart-item');
        if (!itemDiv) return;
        const id = itemDiv.dataset.id;
        const goal = itemDiv.dataset.goal;
        const idx = cart.findIndex(i => i.id === id && i.goal === goal);
        if (idx === -1) return;
        
        if (btn.classList.contains('ms-plus')) {
          cart[idx].quantity += 1;
        } else if (btn.classList.contains('ms-minus')) {
          if (cart[idx].quantity > 1) cart[idx].quantity -= 1;
          else cart.splice(idx, 1);
        } else if (btn.classList.contains('ms-remove-item')) {
          cart.splice(idx, 1);
        }
        renderCart();
      });

      // ---------- OPEN PAYMENT MODAL ----------
      checkoutBtn.addEventListener('click', () => {
        if (cart.length === 0) { 
          alert('CART IS EMPTY'); 
          return; 
        }
        renderCart();
        paymentModal.style.display = 'flex';
      });

      // ---------- CLOSE MODAL ----------
      closeModal.addEventListener('click', () => paymentModal.style.display = 'none');
      window.addEventListener('click', (e) => {
        if (e.target === paymentModal) paymentModal.style.display = 'none';
      });

      // ---------- PAYMENT TAB SWITCH ----------
      document.querySelectorAll('.ms-payment-tab').forEach(tab => {
        tab.addEventListener('click', function() {
          document.querySelectorAll('.ms-payment-tab').forEach(t => t.classList.remove('active'));
          this.classList.add('active');
          const panelId = 'panel-' + this.dataset.panel;
          document.querySelectorAll('.ms-payment-panel').forEach(p => p.classList.remove('active'));
          document.getElementById(panelId).classList.add('active');
        });
      });

      // ---------- VALIDATION & MOCK PAYMENT ----------
      function validateAndPay(panelType) {
        if (panelType === 'upi') {
          const upiInput = document.getElementById('upi-input');
          if (!upiInput.value.trim()) {
            alert('Please enter your UPI ID');
            return false;
          }
        }
        if (panelType === 'card') {
          const cardNum = document.getElementById('card-number');
          const cardExp = document.getElementById('card-expiry');
          const cardCvv = document.getElementById('card-cvv');
          if (!cardNum.value.trim() || !cardExp.value.trim() || !cardCvv.value.trim()) {
            alert('Please fill all card details');
            return false;
          }
        }
        return true;
      }

      function mockPaymentSuccess() {
        toast.classList.add('show');
        setTimeout(() => toast.classList.remove('show'), 2800);
        cart = [];
        renderCart();
        paymentModal.style.display = 'none';
        // Clear input fields
        document.getElementById('upi-input').value = '';
        document.getElementById('card-number').value = '';
        document.getElementById('card-expiry').value = '';
        document.getElementById('card-cvv').value = '';
      }

      // Attach listeners to payment buttons
      document.getElementById('mock-pay-btn').addEventListener('click', function(e) {
        e.preventDefault();
        if (validateAndPay('upi')) mockPaymentSuccess();
      });
      document.getElementById('mock-qr-pay').addEventListener('click', function(e) {
        e.preventDefault();
        mockPaymentSuccess();
      });
      document.getElementById('mock-card-pay').addEventListener('click', function(e) {
        e.preventDefault();
        if (validateAndPay('card')) mockPaymentSuccess();
      });

      // ---------- INITIAL RENDER ----------
      renderCart();

      // ---------- SPLIDE CAROUSEL ----------
      new Splide('#image-carousel', {
        type: 'loop',
        autoplay: true,
        interval: 4000,
        pauseOnHover: true,
        perPage: 1,
        arrows: true,
        pagination: true,
        speed: 1000,
      }).mount();
    })();
  </script>
</body>
</html>